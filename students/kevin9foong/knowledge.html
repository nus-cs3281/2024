<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.4.0">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" href="/2024/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/2024/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/2024/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/2024/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/2024/markbind/css/markbind.min.css"><script src="/2024/markbind/js/polyfill.min.js"></script>
    <script src="/2024/markbind/js/vue.min.js"></script>
    <script src="/2024/markbind/js/markbind.min.js"></script>
    <script src="knowledge.page-vue-render.js"></script><link rel="stylesheet" href="/2024/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/2024/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/2024/stylesheets/main.css">
<link rel="icon" href="/2024/favicon.ico"></head>
<script>
  const baseUrl = '/2024'
</script>
<body >
<div id="app" data-server-rendered="true"><header fixed=""><div placement="top" data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-primary" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="/2024/index.html" title="Home" class="navbar-brand" data-v-7c0fd418>CS3281&amp;2-2024/Students</a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li class="nav-link dropdown" data-v-ccda25c0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-ccda25c0>CS3281</a> <ul class="dropdown-menu" data-v-ccda25c0> <li data-v-ccda25c0><a href="/2024/index.html" class="dropdown-item" data-v-ccda25c0>Students</a></li> <li data-v-ccda25c0><a href="/2024/students/knowledge.html" class="dropdown-item" data-v-ccda25c0>Knowledge</a></li> <li data-v-ccda25c0><a href="https://nus-cs3281.github.io/2024-dashboard/?search=&amp;sort=groupTitle&amp;sortWithin=title&amp;timeframe=commit&amp;mergegroup=&amp;groupSelect=groupByAuthors&amp;breakdown=false" class="dropdown-item" data-v-ccda25c0>Code Dashboard</a></li></ul></li> <li class="nav-link dropdown" data-v-ccda25c0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-ccda25c0>CS3282</a> <ul class="dropdown-menu" data-v-ccda25c0> <li data-v-ccda25c0><a href="/2024/cs3282-index.html" class="dropdown-item" data-v-ccda25c0>Students</a></li> <li data-v-ccda25c0><a href="/2024/students/talksSchedule.html" class="dropdown-item" data-v-ccda25c0>Lightning Talks</a></li></ul></li> <li data-v-7c0fd418><a href="/2024/instructions.html" class="nav-link" data-v-7c0fd418>Instructions</a></li> <li data-v-7c0fd418><a href="https://nus-cs3281.github.io/website/" class="nav-link" data-v-7c0fd418>CS3281&amp;2 Website <span data-v-7c0fd418><span aria-hidden="true" class="glyphicon glyphicon-share-alt" data-v-7c0fd418></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-7c0fd418><li data-v-7c0fd418><a href="https://github.com/nus-cs3281/2024" class="nav-link" data-v-7c0fd418><span data-v-7c0fd418><span aria-hidden="true" class="fab fa-github" data-v-7c0fd418></span></span></a></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h1 id="cs3282">CS3282<a href="#cs3282" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <h2 id="from-internal-project-teammates">From internal project (TEAMMATES):<a href="#from-internal-project-teammates" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>As part of both the database migration and SQL injection testing team, I have learnt:</p> <h3 id="database-migration">Database migration<a href="#database-migration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="tradeoffs-between-nosql-and-sql-database-offerings">Tradeoffs between noSQL and SQL database offerings:<a href="#tradeoffs-between-nosql-and-sql-database-offerings" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I had previously read about the reasons behind why we are undertaking the task of migrating from Datastore to CloudSQL, however, I am able to better appreciate the value of this after joining the database migration team.</p> <ol><li><p>Better developer support/tooling with Cloud SQL</p> <p>During migration, we faced issues with Datastore emulator as we could not query the Datastore emulator easily to verify that data was seeded correctly as shown in this <a href="https://stackoverflow.com/questions/45861519/how-should-i-query-google-cloud-datastore-emulator-via-command-line">StackOverflow post</a>.</p> <p>This was in contrast with Cloud SQL which uses standard PostgreSQL   can we can simply use a database client and write SQL queries eg, <code class="hljs inline no-lang">&quot;SELECT ... from ...&quot;</code>.
Even deleting records from Datastore on the Google Cloud Console was limited to using to UI and only 50 records could be deleted at a time by clicking the delete button and navigating to the next page.</p> <p>Hence, Cloud SQL provides significantly more standard and convenient developer experience for future batches.</p></li> <li><p>Avoid orphan issues</p> <p>One of the issues in our codebase I noticed was with noSQL, we had to ensure orphan record bugs were not present.</p> <p>Previously,</p> <pre><code class="hljs"><span>/**
</span><span>* Deletes a feedback session cascade to its associated questions, responses, deadline extensions, etc.
</span><span>*/
</span><span>public void deleteFeedbackSessionCascade(String feedbackSessionName, String courseId) {
</span><span>    AttributesDeletionQuery query = AttributesDeletionQuery.builder()
</span><span>                                        .withCourseId(courseId)
</span><span>                                        .withFeedbackSessionName(feedbackSessionName)
</span><span>                                        .build();
</span><span>    frLogic.deleteFeedbackResponseComments(query);
</span><span>    frLogic.deleteFeedbackResponses(query);
</span><span>    fqLogic.deleteFeedbackQuestions(query);
</span><span>    deLogic.deleteDeadlineExtensions(query);
</span><span>
</span><span>    fsDb.deleteFeedbackSession(feedbackSessionName, courseId
</span><span>}
</span></code></pre><p>With SQL, we can use Hibernate to define constraints and cascade delete to prevent orphan entities:</p> <pre><code class="hljs"><span>/**
</span><span>* Deletes a feedback session cascade to its associated questions, responses, deadline extensions and so on.
</span><span>*/
</span><span>public void deleteFeedbackSessionCascade(String feedbackSessionName, String courseId) {
</span><span>    FeedbackSession feedbackSession = fsDb.getFeedbackSession(feedbackSessionName, courseId);
</span><span>    fsDb.deleteFeedbackSession(feedbackSession);
</span><span>}
</span><span>
</span></code></pre><p>When feedbackSession is deleted, the delete is cascaded to all the related entities. This leads to less potential for bugs and simpler code.</p></li></ol> <h4 id="appreciation-of-3-tier-architecture">Appreciation of 3-tier architecture:<a href="#appreciation-of-3-tier-architecture" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>TEAMMATES follows <a href="https://martinfowler.com/bliki/PresentationDomainDataLayering.html">Martin Fowler's Presentation-Domain-Data Layering</a> closely. This has prevented coupling and enabled us to swap the data layer easily from Datastore to CloudSQL without changing the other layers.</p> <p>I have learnt the steps needed to ensure migration.</p> <ol><li>Changing the code to support new</li> <li>Writing migration scripts
<ol><li>Seeding database for testing</li> <li>Write correctness verification scripts</li></ol></li> <li>Perform the migration</li></ol> <p>During the general steps above, there are some specific challenges which have provided learning opportunities for me:</p> <h4 id="database-paginated-queries-postgresql-indexing-on-primary-key-and-how-pgsql-enforces-pk-uniqueness">Database paginated queries + PostgreSQL indexing on Primary key (and how PGSQL enforces PK uniqueness):<a href="#database-paginated-queries-postgresql-indexing-on-primary-key-and-how-pgsql-enforces-pk-uniqueness" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Since TEAMMATES has large amounts of records which may not fit in memory, I worked on paginating the queries to prevent OutOfMemory errors.</p> <p>One challenge was that I had to do implement an sort ordering to maintain the pages.
For example, page 1 contains records starting with 'A', page 2 contains records starting with 'B' and so on... The sorted order ensures that when querying page 2, we would not fetch records queried from page 1.</p> <p>Initially, I used 'created_at' field but this was slow. I later learnt that using the primary key field was much faster since PostgreSQL builds an index on the primary key leading to faster sorting. PostgreSQL also using this B-tree index to enforce uniqueness of the primary key.</p> <p>This improved the performance of the database migration script.</p> <h4 id="writing-of-batched-queries">Writing of batched queries:<a href="#writing-of-batched-queries" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Another optimization to improve query speeds are to send batched queries instead of multiple separate queries. This reduced the network Round time speed and improves the migration script performance.</p> <h4 id="terraform">Terraform:<a href="#terraform" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>One of the issues I initially faced was setting up the cloud environment on GCP. I learnt and proposed using Hashicorp Terraform which is an infra-as-code platform to manage cloud resources.</p> <p>As part of my learning journey, I configured the CloudSQL GCP service using Terraform and raised a <a href="https://github.com/TEAMMATES/teammates/discussions/12756">discussion</a>. However, after discussion, introducing Terraform might not be the best idea for now given the overhead for new developers to learn and the scale of our system.</p> <h3 id="sqli-testing">SQLi Testing<a href="#sqli-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>As part of SQL injection testing, I learnt about the risk factors for SQL injection and how to prevent them.</p> <p>Such as:</p> <ul><li>use of prepared statements with parameterized queries
This treats the user input as a string literal and hence does not affect the SQL query. This is done by Hibernate which we are using in TEAMMATES.</li></ul> <p>This cheatsheet on <a href="https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html">SQL injection prevention by OWASP</a> was useful in my learning.</p> <h3 id="multiple-course-structures-mcs">Multiple Course Structures (MCS)<a href="#multiple-course-structures-mcs" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="many-to-many-relationship-representation">Many-to-many relationship representation<a href="#many-to-many-relationship-representation" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>From implementing the new Entity-Relationship schema required for the new feature, I experienced a new issue where <code class="hljs inline no-lang">students</code> and <code class="hljs inline no-lang">teams</code> had a many-to-many relationship.</p> <p>Hence, I learnt how to represent this using <code class="hljs inline no-lang">StudentToTeamsMapping</code> as shown from the below example from Baeldung.
<a href="/2024/students/kevin9foong/baeldung_example.png" target="_self"><img src="/2024/students/kevin9foong/baeldung_example.png" alt="Many-to-many example from Baeldung" class="img-fluid"></a></p> <h2 id="from-lightning-talks">From lightning talks:<a href="#from-lightning-talks" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>From other's speeches, I have learnt many new technologies such as Gitpod, Python Decorators, making tiny PRs etc. These knowledge has enhanced my awareness of various software tools and ideas to increase my productivity.</p> <p>From my own preparation/research, I have also learnt more about Stream processing via watching lectures on <a href="https://www.youtube.com/watch?v=yO3SBU6vVKA&amp;list=PLeKd45zvjcDHJxge6VtYUAbYnvd_VNQCx&amp;index=7">Apache Samza</a>.</p> <h2 id="from-external-projects">From external projects:<a href="#from-external-projects" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>My learnings are listed <a href="/2024/students/kevin9foong/observations.html#my-learning-record">here</a>.</p> <hr> <h2 id="frontend">Frontend<a href="#frontend" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="angular-frontend-framework">Angular (Frontend framework)<a href="#angular-frontend-framework" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>I learnt Angular from having zero prior knowledge as part of CS3281.</p> <p>Having previous experience with React, it is interesting to see the different approaches between frameworks and use the frameworks to implement functionality such as sorting, search etc.
For example, Angular splits the CSS, HTML and JS into 3 distinct files while React mixes JS and HTML in a single file for each component.</p> <h4 id="frontend-optimization-techniques-debouncing-throttling">Frontend optimization techniques (Debouncing, throttling)<a href="#frontend-optimization-techniques-debouncing-throttling" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I also learnt about and implemented some frontend optimization techniques such as deboucing and throttling so that queries to the backend for not made for every input in the search bar.
Compared to React, Angular has more built in functionality such as debouncing function already in-built into the EventEmitter whereas in React we would have to use 3rd party libraries such as Lodash.</p> <h2 id="backend">Backend<a href="#backend" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="presentation-logic-data-layering">Presentation-Logic-Data Layering<a href="#presentation-logic-data-layering" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>I learnt more about writing well abstracted code and in how to structure a backend system by splitting the system into distinct layers for each responsibility. I was also able to discuss of how to improve and abstract responsibilities with my mentors to improve the software architecture of TEAMMATES.</p> <p>Working on TEAMMATES led me to understand and discover more code architecture such as <a href="https://martinfowler.com/bliki/PresentationDomainDataLayering.html">PresentationDomainDataLayering shared by Martin Fowler</a>.</p> <p>For example, thanks for this code architecture, we are able to substitute out our database layer from Datastore to PostgreSQL with Hibernate without having to make extensive changes to the other layers! Working on TEAMMATES has allowed me to greatly appreciate the benefits of implementing well-designed code architecture and its effects on maintenability of software.</p> <h3 id="exception-wrapping">Exception wrapping<a href="#exception-wrapping" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>I learnt and implemented the practice of exception wrapping (related to the above layering concept) to abstract lower level details from higher level components.</p> <p>For example, I delegated the DB layer be responsible only for database operations. Exceptions thrown during the primitive DB layer operations are wrapped in the logic layer into relevant logic layer exceptions so as to abstract away the details of data access from the rest of the application.</p> <p>I referred to this online guide by <a href="https://jenkov.com/tutorials/java-exception-handling/exception-wrapping.html">Jenkov on Exception Wrapping</a>.</p> <h3 id="how-to-ensure-product-stays-live-even-during-migration">How to ensure product stays live even during migration<a href="#how-to-ensure-product-stays-live-even-during-migration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Working on a product which serves live users every month, I learnt how we can migrate from the existing GCP Datastore product to PGSQL while still serving actual users (without downtime). This can be done through implementing logic in code to check if the entity has been migrated yet, allowing the code to be able to serve users throughout the migration process.</p> <p>Also, verification of the changes are important, hence a staging environment needs to be used to test and verify before redirecting traffic to the newly deployed database migrated version of TEAMMATES.</p> <h3 id="hibernate-orm">Hibernate ORM<a href="#hibernate-orm" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>I've learnt how to use Hibernate ORM and understood the layers of abstraction it provides for us. Hibernate helps map entity classes to actual records in a database. Each entity has 2 main states, managed and unmanaged. If changes are made to managed entities in hibernate, they will be flushed at the end of the session and do not need to be explicitly flushed.</p> <h4 id="debugging-test-case-failures-due-to-hibernate">Debugging test case failures due to Hibernate<a href="#debugging-test-case-failures-due-to-hibernate" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>The entity states initially added some complexity to updating entities in the database using Hibernate. I realised that the original entities are cached in the persistence context. However, after performing some updates despite first flushing the updates and then fetching them during testing, the joined entities were not found. This led to failing test cases.</p> <p>Upon consultation with my mentors Hieu and Samuel, I realised that this was caused due to only updating relations from 1 side in the Entities which is intentionally set currently (due to circular bidirectional dependencies causing cascade errors).
This caused the persistence context to not be updated despite the database being correctly updated.</p> <p>Hence, I learnt and implemented <code class="hljs inline no-lang">HibernateUtil.getSession.clear()</code> to allow for the managed entity cache to be cleared and hence ensure that the entities are fetched from the updated database.</p> <p>By using flush then clear, this ensures that the entities read transaction caused by clear is after the write transaction caused by flush, hence this results in a view serializable transaction schedule which fixes the test cases.</p> <h4 id="hibernate-flushing-behavior">Hibernate flushing behavior<a href="#hibernate-flushing-behavior" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Also, I learnt that flushing does not cause the transaction to commit and only orders the SQL statements to be queued for execution.
However, it is not a good practice to force a commit for each transaction as it would negatively affect the performance and hence Hibernate's rationale for not mandating a commit after each flush (commits only occur after a certain number of transactions). <a href="https://stackoverflow.com/questions/12688827/hibernate-not-updating-database-after-flush">Stackoverflow post</a>.</p> <h4 id="eager-and-lazy-loading-concept">Eager and Lazy loading concept<a href="#eager-and-lazy-loading-concept" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I've also learnt that in Hibernate, eager loading means that related entities are loaded from the database along with the main entity, while lazy loading means that related entities are only loaded when they are explicitly accessed. Here are some examples:</p> <ul><li>Eager loading:</li></ul> <pre><code class="hljs"><span>@Entity
</span><span>public class DeadlineExtension {
</span><span>    @ManyToOne(fetch = FetchType.EAGER)
</span><span>    private FeedbackSession feedbackSession;
</span><span>    // ...
</span><span>}
</span></code></pre><p>In this example, the FeedbackSession entity is eagerly loaded along with the DeadlineExtension entity, meaning that whenever a DeadlineExtension is fetched from the database, its FeedbackSession is also fetched.</p> <ul><li>Lazy loading:</li></ul> <pre><code class="hljs"><span>@Entity
</span><span>public class DeadlineExtension {
</span><span>    @ManyToOne(fetch = FetchType.LAZY) // this is the default we are using in TEAMMATES
</span><span>    private FeedbackSession feedbackSession;
</span><span>    // ...
</span><span>}
</span></code></pre><p>In this example, the FeedbackSession entity is lazily loaded, meaning that it is not fetched from the database until it is explicitly accessed. This can help improve performance by reducing the number of database queries made during the application's lifecycle.</p> <h4 id="optimizing-queries-with-sql-and-abstracting-sql-with-criteria-api">Optimizing queries with SQL and abstracting SQL with Criteria API<a href="#optimizing-queries-with-sql-and-abstracting-sql-with-criteria-api" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I have also learnt how to use CriteriaAPI to create SQL queries and even write dynamic queries to reduce the number of queries needed to fetch a large number of records based on dynamic selection predicates.</p> <p>For example, using SQL allowed me to optimize some of the previous queries. Instead of making n queries to fetch n records previously, I learnt to use CriteriaAPI which provides an abstraction over SQL to write a dynamic query as follows:</p> <pre><code class="hljs"><span>List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();
</span><span>        for (String userEmail : userEmails) {
</span><span>            predicates.add(cb.equal(instructorRoot.get(&quot;email&quot;), userEmail));
</span><span>        }
</span><span>
</span><span>        cr.select(instructorRoot)
</span><span>                .where(cb.and(
</span><span>                    cb.equal(instructorRoot.get(&quot;courseId&quot;), courseId),
</span><span>                    cb.or(predicates.toArray(new Predicate[0]))));
</span></code></pre><p>As shown, CriteriaAPI allows us to specify a list of predicates as a selection condition for generating dynamic queries, while abstracting and not requiring the programmer to use SQL directly.</p> <h2 id="general-swe-skills-and-tools">General SWE skills and tools<a href="#general-swe-skills-and-tools" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="docker">Docker<a href="#docker" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Prior to TEAMMATES, I had used Docker but was not able to fully appreciate its utility. Working with Docker in TEAMMATES allowed me to both learn how to debug and appreciate the utility of container technologies such as Docker in Software development.</p> <p>Several of the benefits and learnings are:</p> <ul><li><p>Streamlining developer set up experience across different platforms.
As my team and myself were using different computer architectures and OS platforms, Docker's cross platform and run anywhere as long as the docker engine is installed allowed us to share new container configuration such as when we set up PostgreSQL for the migration as part of the <code class="hljs inline no-lang">docker-compose.yml</code> file. Hence, I realised that Docker is a useful tool for improving the developer experience and makes program set up much simpler.</p></li> <li><p>Debugging with Docker:
In order to verify and access PostgreSQL, I learnt that debugging can be done by logging into the container: When using Docker, it is common to run services inside containers. If issues with a service are encountered, I was able to log into the container and debug the service from there. This can be done using the <code class="hljs inline no-lang">docker exec</code> command, which allows me to interact with PostgreSQL inside a running container.</p></li></ul> <h3 id="gradlew">Gradlew<a href="#gradlew" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>After bringing up <a href="https://github.com/TEAMMATES/teammates/issues/12020">Issue #12020</a>, I reviewed the solution from an open-sourced dev. However, to guide the dev to be able to fix the issue (as seen in the thread), I also learnt more about how gradle is configured and more about jobs. Hence, working on CS3281 allowed me to understand how to build and configure gradlew to run desired jobs such as lint and test.</p> <h3 id="testing">Testing<a href="#testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>I've learnt of how to better utilise various tests such as unit and integration tests.</p> <h4 id="mockito-and-its-importance-for-unit-testing">Mockito and its importance for Unit testing<a href="#mockito-and-its-importance-for-unit-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I've learnt how to effectively use Mockito to mock lower layer and third party dependencies, use spies to ensure certain methods are invoked etc to isolate a specific unit to be under test.</p> <p>For example, using mocks and spies are essential to isolate the software under test into small specific units.</p> <p>Using Mockito, I was able to mock and perform multiple powerful assertions such as verifying that methods were invoked for a number of times with specific arguments etc.</p> <pre><code class="hljs"><span>verify(&lt;object&gt;, times(&lt;number of times&gt;)).&lt;method&gt;(&lt;argument&gt;);
</span></code></pre><h4 id="importance-of-testing">Importance of testing<a href="#importance-of-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>For example, by writing tests for the various FeedbackSession actions I've migrated, I've discovered bugs that were previously undetected and merged into the main branch. For example, since the various entitys' toString() method were invoking each other, it caused a cyclic infinite loop which would have crashed the application if pushed into production.</p> <p>Through unit and integration testing, I also discovered other hard to detect bugs such as incorrect parameter orderings and CriteriaAPI bugs where the wrong key was being referenced and where Join needs to be explicitly indicated first that have been previously merged. This would not have been possible without good testing practice and identifying test cases where finding bugs are most likely.</p> <p>I have learnt how to analyse the written code to find places with higher cyclomatic complexity/complicated logic etc to find places of interest to focus writing test cases for to identify bugs at a higher percentage.</p> <h4 id="utility-of-static-analyzers-in-detecting-bugs">Utility of static analyzers in detecting bugs<a href="#utility-of-static-analyzers-in-detecting-bugs" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Through my CS3281 journey, I also realized how static analyzers such as pmd are not only able to enforce coding standards, but are also very effective in finding where potential bugs are. For example, pmd highlighted areas where null was possible and allowed me to discover and fix several bugs.</p> <h4 id="architecture-testing-with-archunit">Architecture testing with ArchUnit<a href="#architecture-testing-with-archunit" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Prior to CS3281, I was unaware of the existence of Architectural tests.</p> <p>I've learnt these tests can be very useful in enforcing the interactions and layering of our software architecture. For example, TEAMMATES does not allow logic classes directly interacting with the UI or the UI interacting directly with the storage classes etc.</p> <p>Using Architectural tests can help us enforce the architecture of our application (eg, n-tier architecture with UI, logic, database).</p> <p>I managed to adapt the existing architectural tests to fit the new requirements where instead of having an atttribute DTO class, we are using the SQL entity class directly to pass data. Hence, I learnt more about architectural testing through writing DescribedPredicates to fit our needs.</p> <p>For example, ArchUnit uses a declarative style of defining the test cases:</p> <pre><code class="hljs"><span>noClasses().that().resideInAPackage(includeSubpackages(LOGIC_PACKAGE))
</span><span>                .and().resideOutsideOfPackage(includeSubpackages(LOGIC_CORE_PACKAGE))
</span><span>                .should().accessClassesThat(new DescribedPredicate&lt;&gt;(&quot;&quot;) {
</span><span>                    @Override
</span><span>                    public boolean apply(JavaClass input) {
</span><span>                        return input.getPackageName().startsWith(STORAGE_PACKAGE)
</span><span>                                &amp;&amp; !input.getPackageName().startsWith(STORAGE_SQL_ENTITY_PACKAGE);
</span><span>                    }
</span><span>                })
</span><span>                .check(forClasses(LOGIC_PACKAGE, STORAGE_PACKAGE));
</span></code></pre><p>In the above code, I was able to specify that no classes in the logic package should directly access the previous Google Datastore storage files, but can directly access the new SQL storage files (which is required since we have refactored the codebase to no longer use unnecessary <code class="hljs inline no-lang">Attribute</code> classes and to use the Hibernate entity directly)</p> <h4 id="regression-testing">Regression testing<a href="#regression-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Throughout my CS3281 journey, I was exposed to and wrote tests for regression to ensure new changes did not break existing code.</p> <p>I've learnt that regression testing is extremely important. Especially when there is collective effort in performing migration work and there are many changes, we need to ensure new changes don't break existing functionality.</p> <p>Also, working on a larger team in CS3281 emphasized this importance, since regressions are usually more likely when there are more developers working on the same code.</p> <h3 id="oss-project-maintenance">OSS project maintenance<a href="#oss-project-maintenance" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="working-with-international-devs">Working with international devs<a href="#working-with-international-devs" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I gained new experience learning to work with open-sourced devs from across the world. I helped guide and provide technical support and feedback and raised issues.</p> <h4 id="github-actions-for-automation-devops">Github Actions for automation / DevOps<a href="#github-actions-for-automation-devops" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Also, from TEAMMATES, I have learnt how tools such as Github Actions can be used to maintain a large-scale project, such as using the OSS-bot for regular maintenance updates and suggestions.</p> <h3 id="swe-project-management-best-practices">SWE/Project management best practices<a href="#swe-project-management-best-practices" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="splitting-prs">Splitting PRs<a href="#splitting-prs" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I learnt of the importance of splitting PRs across smaller PRs so reviewers could review code easier.
As a reviewer and someone writing PRs, I've grown across the weeks as shown by splitting the PRs into smaller PRs for easier reviews. Though this might seem like a small tweak, I believe that my experience in CS3281 has made me better as a team player and software engineer.</p> <h4 id="communication-skills">Communication skills<a href="#communication-skills" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I learnt of the importance of keeping the entire team updated with what each member is doing and the importance of sprint planning and standup meetings. For example, having regularly procedures for updates allows the team to better understand what everyone is doing and prevents potential duplicate/missing work. During CS3282, I hope to recommend and practice having standup meetings with my teammates.</p> <h4 id="swe-practices">SWE practices<a href="#swe-practices" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>I learnt some SWE practices and proposed changes to make the code quality better.
For example, I discussed with my mentors of best practices and refactored functions that existed solely to throw an exception vs returning a boolean. I learnt and discussed different SWE ideas and did research such as <a href="https://codereview.stackexchange.com/questions/11724/is-it-better-practice-to-have-void-method-throw-an-exception-or-to-have-the-meth">considering which SWE practice is best</a>.</p> <h2 id="improving-my-fluency-with-using-swe-tooling">Improving my fluency with using SWE tooling<a href="#improving-my-fluency-with-using-swe-tooling" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="debugger">Debugger<a href="#debugger" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>From CS3281, I've discovered and faced multiple bugs during my implementation journey.</p> <p>I've managed to use the debugger extensively, stepping in/out and over lines of code and setting breakpoints and monitoring variables. For example, when implementing <a href="https://github.com/TEAMMATES/teammates/pull/12360">PR #12360</a>, I managed to discover that certain conditionals were incorrect by monitoring the number of DeadlineExtensions in each map/list and correcting the conditionals using the debugger.</p> <h3 id="shortcuts">Shortcuts<a href="#shortcuts" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Also, I've learnt many shortcuts to improve my developer workflow.</p> <h4 id="vsc-shortcuts">VSC shortcuts<a href="#vsc-shortcuts" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>Ctrl + P for file search</li> <li>opt + click for multi-cursor etc</li> <li>And many more</li></ul> <h4 id="terminal-and-keyboard-shortcuts">Terminal and keyboard shortcuts<a href="#terminal-and-keyboard-shortcuts" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>To delete words and navigate quickly (opt + backspace, opt + arrow keys)</li> <li>Deleting entire sentences (alt + u)</li></ul> <h4 id="github-s-editor">Github's editor<a href="#github-s-editor" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Can be accessed by changing .com to .dev or entering the . character on the keyboard. This has been very useful for comparing files between branches and reviewing code.</p></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420></div> <!----></nav></div> <footer><div class="text-center"><p>[<strong>This site was generated using <img src="https://markbind.org/favicon.ico" width="25"> <a href="https://markbind.org/">MarkBind 5.4.0</a></strong> on Tue, 23 Apr 2024, 8:11:07 UTC]<br> <span class="dimmed"><small><small>favicon.ico of this site was made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></small></small></span></p></div></footer></div>
</body><script src="/2024/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
