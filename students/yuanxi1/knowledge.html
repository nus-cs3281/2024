<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.5.2">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" href="/2024/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/2024/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/2024/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/2024/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/2024/markbind/css/markbind.min.css"><link rel="stylesheet" href="/2024/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/2024/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/2024/stylesheets/main.css">
<link rel="icon" href="/2024/favicon.ico"></head>
<script>
  const baseUrl = '/2024'
</script>
<body >
<div id="app" data-server-rendered="true"><header fixed=""><div placement="top" data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-primary" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="/2024/index.html" title="Home" class="navbar-brand" data-v-7c0fd418>CS3281&amp;2-2024/Students</a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li class="nav-link dropdown" data-v-ccda25c0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-ccda25c0>CS3281</a> <ul class="dropdown-menu" data-v-ccda25c0> <li data-v-ccda25c0><a href="/2024/index.html" class="dropdown-item" data-v-ccda25c0>Students</a></li> <li data-v-ccda25c0><a href="/2024/students/knowledge.html" class="dropdown-item" data-v-ccda25c0>Knowledge</a></li> <li data-v-ccda25c0><a href="https://nus-cs3281.github.io/2024-dashboard/?search=&amp;sort=groupTitle&amp;sortWithin=title&amp;timeframe=commit&amp;mergegroup=&amp;groupSelect=groupByAuthors&amp;breakdown=false" class="dropdown-item" data-v-ccda25c0>Code Dashboard</a></li> <li data-v-ccda25c0><a href="/2024/activities-dashboard.html" class="dropdown-item" data-v-ccda25c0>Activities Dashboard</a></li></ul></li> <li class="nav-link dropdown" data-v-ccda25c0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle nav-link" data-v-ccda25c0>CS3282</a> <ul class="dropdown-menu" data-v-ccda25c0> <li data-v-ccda25c0><a href="/2024/cs3282-index.html" class="dropdown-item" data-v-ccda25c0>Students</a></li> <li data-v-ccda25c0><a href="/2024/students/talksSchedule.html" class="dropdown-item" data-v-ccda25c0>Lightning Talks</a></li> <li data-v-ccda25c0><a href="/2024/activities-dashboard.html" class="dropdown-item" data-v-ccda25c0>Activities Dashboard</a></li></ul></li> <li data-v-7c0fd418><a href="/2024/instructions.html" class="nav-link" data-v-7c0fd418>Instructions</a></li> <li data-v-7c0fd418><a href="https://nus-cs3281.github.io/website/" class="nav-link" data-v-7c0fd418>CS3281&amp;2 Website <span data-v-7c0fd418><span aria-hidden="true" class="glyphicon glyphicon-share-alt" data-v-7c0fd418></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-7c0fd418><li data-v-7c0fd418><a href="https://github.com/nus-cs3281/2024" class="nav-link" data-v-7c0fd418><span data-v-7c0fd418><span aria-hidden="true" class="fab fa-github" data-v-7c0fd418></span></span></a></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h2 id="end-to-end-testing-with-selenium">End to end testing with Selenium<a href="#end-to-end-testing-with-selenium" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="purpose-of-e2e-tests">Purpose of e2e tests<a href="#purpose-of-e2e-tests" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>E2E testing complements other form of tests by ensuring that the entire system works as intended and meets the user's requirements and expectations.
E2E testing involves testing the application in a production-like environment or as close to it as possible. The complete application is tested from start to finish and it ensures that the application functions correctly from the user's perspective, including all the steps involved in completing a task or workflow.</p> <h3 id="how-to-write-e2e-tests">How to write E2E tests<a href="#how-to-write-e2e-tests" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Page Object Pattern is used in TEAMMATES to facilitate UI changes.
In this pattern, a class is created for each page . It helps separate the details of the interactions with the webpage with the rest of the test. Page Object provides an interface for the tests to interact with the page's UI without having to directly manipulate the HTML elements.</p> <p>Resources:</p> <ul><li>Page Object Pattern: <a href="https://martinfowler.com/bliki/PageObject.html">https://martinfowler.com/bliki/PageObject.html</a></li> <li>Examples of e2e test with Selenium: <a href="https://medium.com/@iamfaisalkhatri/end-to-end-testing-using-selenium-webdriver-and-java-4ff8667716ca">https://medium.com/@iamfaisalkhatri/end-to-end-testing-using-selenium-webdriver-and-java-4ff8667716ca</a></li> <li>Selenium documentation: <a href="https://www.selenium.dev/documentation/webdriver/actions_api/">https://www.selenium.dev/documentation/webdriver/actions_api/</a></li></ul> <h2 id="unit-tests">Unit tests<a href="#unit-tests" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="mocking">Mocking<a href="#mocking" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Mock objects can isolate the component being tested by replacing actual dependencies with mocked ones that simulates the behaviour of the real ones. In this way, the unit test can focus on testing the function of a single component without involving the entire system.</p> <h3 id="using-mockito">Using Mockito<a href="#using-mockito" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>We can use the Mockito framework in Junit tests.
Use the <code class="hljs inline no-lang">mock()</code> method to create a mocked object of some class. Once created, a mock will remember all interactions. Then we can selectively verify whatever interactions we are interested in.</p> <p>We can verify the number of invocations of a method using <code class="hljs inline no-lang">verify()</code>. For example:</p> <pre><code class="hljs"><span>verify(accountsDb, times(1)).getAccountByGoogleId(googleId);
</span></code></pre><p>We can force a method to return a specific value with <strong>stubbing</strong>. For example:</p> <pre><code class="hljs"><span>when(accountsDb.getAccountByGoogleId(googleId)).thenReturn(account);
</span></code></pre><p>Resources:</p> <ul><li>Mockito documentation: <a href="https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html</a></li></ul> <h3 id="snapshot-testing-with-jest">Snapshot testing with Jest<a href="#snapshot-testing-with-jest" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Snapshot tests are a very useful tool when we want to make sure the UI does not change unexpectedly. Hence, when changing the UI, we need to regenerate the snapshots and commit them.</p> <p>Generated snapshots do not include platform specific or other non-deterministic data. We can use mock or spy on calls to the class constructor for ES6 class and all of its methods using Jest.</p> <p>Resourses:</p> <ul><li>JestJs documentation: <a href="https://jestjs.io/docs/snapshot-testing">https://jestjs.io/docs/snapshot-testing</a></li></ul> <h2 id="hibernate-orm">Hibernate ORM<a href="#hibernate-orm" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p><strong>Entity lifecycle</strong><br>
Hibernate can help manage objects and automatically propagate the changes to database. Hibernate entity lifecycle state explains how the entity is related to a persistence context.</p> <ul><li>Transient: a newly created object (such as created by calling the constructor) is not associated with a Hibernate session. To save it to the database, <code class="hljs inline no-lang">persist</code> need to be called to</li> <li>Persistent: entity has been associated with a database table row.Any change made to such entity is going to be detected and propagated to the database (during the Session flush-time)</li> <li>Detached: A detached entity is not tracked anymore by any persistence context</li> <li>Removed: An entity is in a deleted (removed) state if Session.delete(entity) has been called, and the Session has marked the entity for deletion.</li></ul> <p><strong>JPA &amp; Hibernate Annotations</strong><br>
Annotations are used to provide the metadata for the Object and Relational Table mapping directly in the Java source code. Annotations such as <code class="hljs inline no-lang">@Entity</code>, <code class="hljs inline no-lang">@Column</code>, <code class="hljs inline no-lang">@Table</code>, and <code class="hljs inline no-lang">@OneToMany</code>,  can define the structure of the database schema.</p> <p>They are also important for enhancing performance. For example, a join column if not specified with a lazy fetch strategy will cause unnecessary fetch if the data in the join column are not often needed. (Similar problems were presented during data migration  some annotations had to be changed in the migration branch).</p> <p>Resources:</p> <ul><li><a href="https://docs.jboss.org/hibernate/orm/6.5/introduction/html_single/Hibernate_Introduction.html#entities-summary">Hibernate 6 documentation</a></li> <li><a href="https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/">A beginnerâ€™s guide to entity state transitions with JPA and Hibernate</a></li> <li><a href="https://www.baeldung.com/hibernate-entity-lifecycle">Hibernate Entity Lifecycle</a></li></ul> <h2 id="data-migration-with-technology-integration">Data Migration with Technology Integration<a href="#data-migration-with-technology-integration" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <ul><li><h4 id="optimization">Optimization<a href="#optimization" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Techniques such as batch processing can minimize overhead and maximize throughput during data transfer. Avoiding unnecessary joins and fetches are also important. For example, <a href="https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#getReference-java.lang.Class-java.lang.Object-"><code class="hljs inline no-lang">EntityManager.getReference</code></a> can be used to lazily fetch the foreign key referenced object.</p></li> <li><h4 id="dependency-preservation">Dependency Preservation<a href="#dependency-preservation" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>topological ordering of the tables being migrated should be established and migrate entities in order.</p></li> <li><h4 id="patchable-script-design">Patchable Script Design<a href="#patchable-script-design" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>large-scale data migration needs to be patchable as it needs to be executed multiple times to minimise downtime.</p></li> <li><h4 id="testing-with-staging">Testing with Staging<a href="#testing-with-staging" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>the initial step involved setting up a Google Cloud SQL instance for testing to provide insights into the real-time performance and scalability.</p></li></ul> <p>Resources:</p> <ul><li><a href="https://github.com/TEAMMATES/teammates-ops/blob/master/platform-guide.md">Teammates staging server set up guide</a></li> <li><a href="https://docs.jboss.org/hibernate/orm/6.5/introduction/html_single/Hibernate_Introduction.html#entities-summary">Hibernate 6 documentation</a></li></ul></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420></div> <!----></nav></div> <footer><div class="text-center"><p>[<strong>This site was generated using <img src="https://markbind.org/favicon.ico" width="25"> <a href="https://markbind.org/">MarkBind 5.5.2</a></strong> on Sun, 12 May 2024, 13:31:13 UTC]<br> <span class="dimmed"><small><small>favicon.ico of this site was made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></small></small></span></p></div></footer></div>
</body><script src="/2024/markbind/js/bootstrap-utility.min.js"></script>
<script src="/2024/markbind/js/polyfill.min.js"></script>
<script src="/2024/markbind/js/vue.min.js"></script>
<script src="/2024/markbind/js/markbind.min.js"></script>
<script src="knowledge.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
